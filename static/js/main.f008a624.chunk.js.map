{"version":3,"sources":["pages/components/ImgWithHeaders/style.module.css","pages/home/index.tsx","pages/hooks/useDebounce/index.tsx","components/Img/index.tsx","pages/components/ImgWithHeaders/index.tsx","pages/components/CustomSelect/index.tsx","navigation/pages.tsx","navigation/sidebar.tsx","navigation/index.tsx","App.tsx","reportWebVitals.js","index.js","navigation/style.module.css"],"names":["module","exports","Home","PageUseDebounce","Img","props","src","background","headers","children","rest","useState","url","setUrl","a","Headers","Object","entries","map","name","value","append","fetch","data","blob","URL","createObjectURL","console","log","useEffect","fetchImage","style","backgroundImage","PageCustomSelect","pageUseDebounce","path","component","pageImgWithHeaders","className","page","display","flex","width","pageCustomSelect","pages","exact","sections","Sidebar","openSection","setOpenSection","activeRoute","setActiveRoute","handleSectionClick","section","undefined","sidebar","to","onClick","link","sectionName","active","pageList","open","handlePageClick","pageName","MainNavigation","contentContainer","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f008a624.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"style_page__3lxvz\"};","function Home() {\r\n\r\n    return (\r\n        <div>\r\n            <h2>Home</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","function PageUseDebounce() {\r\n    \r\n    return (\r\n        <div>\r\n            Use debounce\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageUseDebounce","import { ImgHTMLAttributes, useEffect, useState } from \"react\"\r\n\r\ninterface ImgProps extends ImgHTMLAttributes<HTMLImageElement>{\r\n    onDownloadProgress?: (e: ProgressEvent) => void\r\n    background?: boolean\r\n}\r\n\r\n// https://stackoverflow.com/questions/52915486/load-image-from-server-that-requires-sending-headers\r\n\r\ninterface Img2Props extends ImgProps{\r\n    headers?: { [header: string]: any }\r\n}\r\n\r\nfunction Img(props: Img2Props) {\r\n    \r\n    const { src, headers, background, children, ...rest } = props\r\n\r\n    const [url, setUrl] = useState('')\r\n\r\n    useEffect(() => { fetchImage() }, [])    \r\n\r\n    async function fetchImage() {\r\n\r\n        try {\r\n            if (!src) return\r\n\r\n            const headers = new Headers()\r\n            if(props.headers)    \r\n                Object.entries(props.headers).map(([name, value]) => headers.append(name, value))\r\n\r\n            const data = await fetch(src, { headers })\r\n            const blob = await data.blob()\r\n            const url = URL.createObjectURL(blob)\r\n\r\n            setUrl(url)\r\n            \r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    if (background) return (\r\n        <div style={{ backgroundImage: url }} {...rest}>\r\n            {children}\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <img src={url} {...rest} />\r\n    )\r\n}\r\n\r\nexport { Img }","import { Img } from '../../../components/Img'\r\nimport style from './style.module.css'\r\n\r\n// const url = 'https://raw.githubusercontent.com/Vtchoo/development/master/public/images/cars/chevrolet-corvette.jpg'\r\nconst url = 'https://picsum.photos/id/352/3264/2176.jpg'\r\n\r\nfunction PageImgWithHeaders() {\r\n    \r\n    return (\r\n        <div className={style.page}>\r\n            <h2>Image with http headers</h2>\r\n\r\n            <p>When inserting an image into a page, whe usually provide a source link via the src property of the {'<img>'} component. That way, there's no way to specify headers that should be sent to the api, for example, authorization headers.</p>\r\n            <p>The only way to send data with the default img html component is via url, like http://myapi.com/image.jpg?token=12345abc</p>\r\n            <p>However, its is possible to make a dynamic GET request to the api with javascript including custom headers.</p>\r\n\r\n            <h4>React solution</h4>\r\n            <p>In this page, I present the component {'<Img />'}, which is basically the same as the {'<img>'} tag, but accepting the <code>headers</code> prop, like {'<Img headers />'}</p>\r\n        \r\n            <h4>The code:</h4>\r\n            <p><code>work in progress</code></p>\r\n\r\n            <h4>Example:</h4>\r\n            <p>On the left, there is an image created using {'<img>'} tag, and on the right, with {'<Img headers />'}. The appearence of the images is the same, but the second one actually sends headers along with the request.</p>\r\n            <p>To check this out, open the browser console (usually pressing F12), and go to network tab. You may need to refresh the page to see the requests. One of the images sends the headers to the remote address.</p>\r\n\r\n            <div style={{ display: 'flex' }}>\r\n                <div style={{ flex: 1 }}>\r\n                    <img style={{ width: '100%' }} src={url}></img>\r\n                </div>\r\n                <div style={{ flex: 1 }}>\r\n                    <Img style={{ width: '100%' }} src={url} headers={{ 'X-Custom-Header': 'value123' }} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageImgWithHeaders","function PageCustomSelect() {\r\n    \r\n    return (\r\n        <div>\r\n            Custom select component\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PageCustomSelect","import Home from '../pages/home'\r\n\r\nimport PageUseDebounce from \"../pages/hooks/useDebounce\"\r\n\r\nimport PageImgWithHeaders from '../pages/components/ImgWithHeaders'\r\nimport PageCustomSelect from '../pages/components/CustomSelect'\r\n\r\ninterface Page {\r\n    name: string,\r\n    path: string,\r\n    component: () => JSX.Element\r\n    exact?: boolean\r\n}\r\n\r\ninterface Section {\r\n    name: string,\r\n    path?: string,\r\n    component?: () => JSX.Element,\r\n    pages?: Page[]\r\n}\r\n\r\n\r\n\r\n//\r\n// All pages\r\n//\r\n\r\n// Home\r\nconst home: Page = {\r\n    name: 'Home',\r\n    path: '/development/',\r\n    component: Home,\r\n    exact: true\r\n}\r\n\r\n// Hooks\r\nconst pageUseDebounce: Page =  {\r\n    name: 'useDebounce',\r\n    path: '/development/usedebounce',\r\n    component: PageUseDebounce,\r\n}\r\n\r\n// Components\r\nconst pageImgWithHeaders: Page = {\r\n    name: 'Img With Headers',\r\n    path: '/development/imgwithheaders',\r\n    component: PageImgWithHeaders\r\n}\r\nconst pageCustomSelect: Page = {\r\n    name: 'Custom Select',\r\n    path: '/development/select',\r\n    component: PageCustomSelect\r\n}\r\n\r\nconst pages = [\r\n    home,\r\n\r\n    pageUseDebounce,\r\n    \r\n    pageImgWithHeaders,\r\n    pageCustomSelect\r\n]\r\n\r\n//\r\n// Sections\r\n//\r\nconst sections: Section[] = [\r\n    {\r\n        name: 'Home',\r\n        path: '/',\r\n        component: Home\r\n    },\r\n    {\r\n        name: 'Custom hooks',\r\n        pages: [\r\n           pageUseDebounce\r\n        ]\r\n    },\r\n    {\r\n        name: 'Custom components',\r\n        pages: [\r\n            pageImgWithHeaders,\r\n            pageCustomSelect\r\n        ]\r\n    }\r\n]\r\n\r\nexport { sections, pages }\r\nexport type { Section, Page }\r\n","import { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { sections, Section, Page } from './pages'\r\nimport style from './style.module.css'\r\n\r\nfunction Sidebar() {\r\n    \r\n\r\n    const [openSection, setOpenSection] = useState<Section>()\r\n    const [activeRoute, setActiveRoute] = useState('/')\r\n\r\n    function handleSectionClick(section: Section){\r\n        setOpenSection(section === openSection ? undefined : section)\r\n\r\n        if (section.path)\r\n            setActiveRoute(section.path)\r\n    }\r\n\r\n    function handlePageClick(page: Page) {\r\n        setActiveRoute(page.path)\r\n    }\r\n\r\n    return (\r\n        <ul className={style.sidebar}>\r\n            {sections.map(section =>\r\n                <div>\r\n                    {section.path ?\r\n                        <Link to={section.path} onClick={() => handleSectionClick(section)} className={style.link}>\r\n                            <div className={`${style.sectionName} ${activeRoute === section.path && style.active}`}>\r\n                                <span>{section.name}</span>\r\n                            </div>\r\n                        </Link>\r\n                        :\r\n                        <div className={style.sectionName} onClick={() => handleSectionClick(section)}>\r\n                            <span>{section.name}</span>\r\n                        </div>\r\n                    }\r\n                    <div className={`${style.pageList} ${section === openSection && style.open}`}>\r\n                        {section.pages && section.pages.map(page =>\r\n                            <Link to={page.path} className={style.link} onClick={() => handlePageClick(page)}>\r\n                                <div className={`${style.pageName}  ${activeRoute === page.path && style.active}`}>\r\n                                    {page.name}\r\n                                </div>\r\n                            </Link>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Sidebar","import { BrowserRouter, Link, Route, Switch } from 'react-router-dom'\r\nimport { pages } from './pages'\r\nimport Sidebar from './sidebar'\r\nimport style from './style.module.css'\r\n\r\n\r\nfunction MainNavigation() {\r\n    \r\n\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Sidebar />\r\n            <div className={style.contentContainer}>\r\n                \r\n                <Switch>\r\n                    {pages.map(page =>\r\n                        <Route path={page.path} exact={page.exact}>\r\n                            {page.component}\r\n                        </Route>\r\n                    )}\r\n                </Switch>\r\n               \r\n            </div>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default MainNavigation","import './App.css';\nimport MainNavigation from './navigation';\n\nfunction App() {\n\treturn (\n\t\t<MainNavigation />\n\t)\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentContainer\":\"style_contentContainer__2VuaW\",\"sidebar\":\"style_sidebar__Pl5Q4\",\"link\":\"style_link__Cxpww\",\"sectionName\":\"style_sectionName__3mGJq\",\"pageList\":\"style_pageList__16dFR\",\"open\":\"style_open__1lsyc\",\"pageName\":\"style_pageName__3bun4\",\"active\":\"style_active__29mLK\"};"],"sourceRoot":""}